:root {
  --reading-max-width: 72ch;
  --reading-font-size: 0.9rem;
  --reading-line-height: 1.6;
  --reading-side-pad: 1.1rem;
  /* Light mode (One Light-ish) */
  --code-bg: #fafbfc;
  --code-fg: #24292f;
  --code-muted: #6a737d;
  --code-keyword: #d73a49;
  --code-string: #032f62;
  --code-number: #005cc5;
  --code-function: #6f42c1;
  --code-operator: #d73a49;
  --code-border: #e1e4e8;
  --md-code-bg-color: var(--code-bg);
  --md-code-fg-color: var(--code-fg);
  --md-code-hl-comment-color: var(--code-muted);
  --md-code-hl-keyword-color: var(--code-keyword);
  --md-code-hl-string-color: var(--code-string);
  --md-code-hl-number-color: var(--code-number);
  --md-code-hl-function-color: var(--code-function);
  --md-code-hl-name-color: var(--code-fg);
  --md-code-hl-operator-color: var(--code-operator);
  --md-code-hl-punctuation-color: var(--code-fg);
}

[data-md-color-scheme="slate"] {
  /* Dark mode (Dracula) */
  --code-bg: #282a36;
  --code-fg: #f8f8f2;
  --code-muted: #6272a4;
  --code-keyword: #ff79c6;
  --code-string: #f1fa8c;
  --code-number: #bd93f9;
  --code-function: #50fa7b;
  --code-operator: #ff79c6;
  --code-border: #44475a;
}

/* Core reading ergonomics */
.md-typeset {
  font-size: var(--reading-font-size);
  line-height: var(--reading-line-height);
}

.md-content__inner {
  max-width: var(--reading-max-width);
  margin: 0 auto;
  padding: 0 var(--reading-side-pad);
}

.md-typeset p,
.md-typeset li {
  line-height: var(--reading-line-height);
}

/* Headings */
.md-typeset h1 {
  font-size: 1.6rem;
  line-height: 1.25;
  letter-spacing: -0.02em;
  margin-top: 1.2em;
}
.md-typeset h2 {
  font-size: 1.35rem;
  line-height: 1.3;
  margin-top: 1.2em;
}
.md-typeset h3 {
  font-size: 1.2rem;
  line-height: 1.3;
  margin-top: 1.1em;
}
.md-typeset h4 {
  font-size: 1.05rem;
  line-height: 1.35;
  margin-top: 1.05em;
}
.md-typeset h5 {
  font-size: 0.98rem;
  line-height: 1.35;
  margin-top: 1em;
}
.md-typeset h6 {
  font-size: 0.92rem;
  line-height: 1.35;
  margin-top: 1em;
}

/* Code */
.md-typeset code,
.md-typeset pre {
  font-size: 0.92em;
}
.md-typeset pre > code {
  line-height: 1.55;
}
.md-typeset code {
  padding: 0.1em 0.3em;
  border-radius: 6px;
}
.md-typeset pre {
  border-radius: 10px;
}

/* Theme-aware code snippets */
.md-typeset .highlight,
.md-typeset .highlighttable {
  background-color: var(--code-bg) !important;
  color: var(--code-fg);
}

.md-typeset .highlight pre,
.md-typeset .highlighttable pre {
  background-color: var(--code-bg) !important;
  color: inherit;
}

.md-typeset .highlighttable td.linenos,
.md-typeset .highlight .linenos,
.md-typeset .highlight .linenodiv,
.md-typeset .highlight .linenodiv pre {
  background-color: var(--code-bg) !important;
  color: var(--code-muted) !important;
}

.md-typeset .highlighttable td.linenos pre,
.md-typeset .highlighttable .linenos pre,
.md-typeset .highlight .linenos .normal,
.md-typeset .highlighttable .linenos .normal,
.md-typeset .highlight span.linenos,
.md-typeset .highlighttable span.linenos {
  background-color: transparent !important;
  color: var(--code-muted) !important;
}

.md-typeset .highlighttable td.linenos {
  border-right: 1px solid var(--code-border);
}

.md-typeset .highlight .c,
.md-typeset .highlight .c1,
.md-typeset .highlight .cm {
  color: var(--code-muted);
}

.md-typeset .highlight .k,
.md-typeset .highlight .kd,
.md-typeset .highlight .kn {
  color: var(--code-keyword);
}

.md-typeset .highlight .s,
.md-typeset .highlight .sa,
.md-typeset .highlight .sb,
.md-typeset .highlight .s1,
.md-typeset .highlight .s2 {
  color: var(--code-string);
}

.md-typeset .highlight .m,
.md-typeset .highlight .mi,
.md-typeset .highlight .mf {
  color: var(--code-number);
}

.md-typeset .highlight .nf,
.md-typeset .highlight .fm {
  color: var(--code-function);
}

/* Tables */
.md-typeset table {
  display: block;
  overflow-x: auto;
  border-radius: 8px;
}

/* Galaxy Fold (open / inner display) */
@media (min-width: 760px) and (max-width: 980px) and (min-height: 700px) {
  :root {
    --reading-max-width: 70ch;
    --reading-font-size: 0.96rem;
    --reading-side-pad: 1.35rem;
  }

  .md-typeset pre {
    border-radius: 12px;
  }

  .md-typeset pre > code {
    font-size: 0.9em;
  }
}

/* Mobile tweaks */
@media (max-width: 700px) {
  :root {
    --reading-font-size: 0.88rem;
    --reading-side-pad: 0.9rem;
  }
  .md-typeset h1 {
    font-size: 1.45rem;
  }
  .md-typeset h2 {
    font-size: 1.25rem;
  }
  .md-typeset h3 {
    font-size: 1.12rem;
  }
  .md-typeset code,
  .md-typeset pre {
    font-size: 0.86em;
  }
  .md-typeset pre > code {
    font-size: 0.84em;
  }
}

@media (max-width: 420px) {
  :root {
    --reading-font-size: 0.84rem;
    --reading-side-pad: 0.75rem;
  }
  .md-typeset h1 {
    font-size: 1.35rem;
  }
  .md-typeset h2 {
    font-size: 1.18rem;
  }
  .md-typeset h3 {
    font-size: 1.05rem;
  }
  .md-typeset code,
  .md-typeset pre {
    font-size: 0.83em;
  }
  .md-typeset pre > code {
    font-size: 0.8em;
  }
}
